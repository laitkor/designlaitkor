!function(r){r.fn.formValidator=function(e){r(this).click(function(){var a=r.formValidator(e);return a&&jQuery.isFunction(e.onSuccess)?(e.onSuccess(),!1):!a&&jQuery.isFunction(e.onError)?(e.onError(),!1):a})},r.formValidator=function(e){var a=r.extend({},r.formValidator.defaults,e),o=!0,s="";if(r(a.scope+" .error-both, "+a.scope+" .error-same, "+a.scope+" .error-input").removeClass("error-both").removeClass("error-same").removeClass("error-input"),r(a.scope+" .req-email, "+a.scope+" .req-string, "+a.scope+" .req-same, "+a.scope+" .req-both, "+a.scope+" .req-numeric, "+a.scope+" .req-date, "+a.scope+" .req-min").each(function(){thisValid=r.formValidator.validate(r(this),a),o=o&&thisValid.error,thisValid.error||(s=thisValid.message)}),!a.extraBool()&&o&&(o=!1,s=a.extraBoolMsg),""!=a.scope&&o&&r(a.errorDiv).fadeOut(),!o&&""!=s){var t=""!=a.customErrMsg?a.customErrMsg:s;r(a.errorDiv).hide().html(t).fadeIn()}return o},r.formValidator.validate=function(e,a){var o=e.val()==e.attr("title")?"":e.val(),s=a.errorClass,t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,l=/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)|(^-?\d*$)/,i=!0,n=!0,c="";if(e.hasClass("req-string")&&(i=""!=o&&o!=e.attr("title"),i||(c=a.errorMsg.reqString),n=n&&i),e.hasClass("req-same")&&(i=!0,group=e.attr("rel"),i=!0,r(a.scope+' .req-same[rel="'+group+'"]').each(function(){(r(this).val()!=o||""==o)&&(i=!1)}),i?r(a.scope+' .req-same[rel="'+group+'"]').parent().parent().removeClass("error-same"):(r(a.scope+' .req-same[rel="'+group+'"]').parent().parent().addClass("error-same"),c=a.errorMsg.reqSame),n=n&&i),e.hasClass("req-both")&&(i=!0,""!=o&&(group=e.attr("rel"),r(a.scope+' .req-both[rel="'+group+'"]').each(function(){""==r(this).val()&&(i=!1)}),i?r(a.scope+' .req-both[rel="'+group+'"]').parent().parent().removeClass("error-both"):(r(a.scope+' .req-both[rel="'+group+'"]').parent().parent().addClass("error-both"),c=a.errorMsg.reqBoth)),n=n&&i),e.hasClass("req-email")&&(i=t.test(o),i||(c=""==o?a.errorMsg.reqMailEmpty:a.errorMsg.reqMailNotValid),n=n&&i),e.hasClass("req-date")){i=!0;var u=o.split(a.dateSeperator),d=new Date;i=""==o?!0:u.length<3?!1:u[0]<=31&&u[1]<=12&&u[2]<=d.getFullYear(),i||(c=a.errorMsg.reqDate),n=n&&i}return e.hasClass("req-min")&&(i=o.length>=e.attr("minlength"),i||(c=a.errorMsg.reqMin.replace("%1",e.attr("minlength"))),n=n&&i),e.hasClass("req-numeric")&&(i=l.test(o),i||(c=a.errorMsg.reqNum),n=n&&i),e.attr("rel")?n?r("#"+e.attr("rel")).removeClass(s):r("#"+e.attr("rel")).addClass(s):n?e.removeClass(s):e.addClass(s),{error:n,message:c}},r.formValidator.defaults={onSuccess:null,onError:null,scope:"",errorClass:"error-input",errorDiv:"#warn",errorMsg:{reqString:"Fill the required field !",reqDate:"Date is not <b>valid</b> !",reqNum:"Just numeric field",reqMailNotValid:"E-Mail is not <b>valid</b> !",reqMailEmpty:"Please enter an e-mail.",reqSame:"Fields are <b>not</b> same !",reqBoth:"You have to fill same fields !",reqMin:"You have to enter at least %1 characters"},customErrMsg:"",extraBoolMsg:"Please check the form!",dateSeperator:".",extraBool:function(){return!0}}}(jQuery);